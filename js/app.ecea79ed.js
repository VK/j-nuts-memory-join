(function(){"use strict";var e={2879:function(e,i,a){var t=a(9242),n=a(3396);const s={class:"w-100 p-1"};function o(e,i,a,t,o,r){const d=(0,n.up)("SelfieCamera");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(d)])}var r=a(7139);const d=e=>((0,n.dD)("data-v-57450ac4"),e=e(),(0,n.Cn)(),e),l={class:"card p-1",style:{"max-width":"500px"}},c={key:0,class:"p-2"},h=d((()=>(0,n._)("p",{style:{"text-align":"left"}},[(0,n.Uk)(" Um beim JðŸŒ° Memory-Spiel mitbachen zu kÃ¶nnen brauchen wir ein Bild und deinen Namen."),(0,n._)("br"),(0,n._)("br"),(0,n.Uk)(" Dazu musst du nur die Kamera deines Handys aktivieren, oder ein Bild hochladen. Deinen Vor- und Nachnamen eingeben und abschicken."),(0,n._)("br"),(0,n.Uk)(" Dann ist dein Bild auch im nÃ¤chsten Memory mit dabei. ")],-1))),m=[h],u={key:1,class:"camera-button mt-2 mb-2 p-2"},p={key:0},g={key:1},f={key:2,class:"mb-2 p-2"},b={key:3},v={id:"imageFinished",ref:"canvas2",width:300,height:300},k={id:"videobox",class:"p-2"},y={ref:"camera",width:300,height:300,autoplay:""},w={id:"photoTaken",ref:"canvas",width:300,height:300},_={class:"camera-loading"},C={key:5,class:"camera-shoot mt-2 mb-2"},O=d((()=>(0,n._)("img",{src:"https://img.icons8.com/material-outlined/40/ffffff/camera--v2.png"},null,-1))),F=[O],S={key:6,class:"camera-upload p-2"},D={class:"mt-2 lowerform"},P={class:"input-group mb-3"},I=d((()=>(0,n._)("div",{class:"input-group-prepend"},[(0,n._)("span",{class:"input-group-text",id:"basic-addon1"},"Vorname")],-1))),L={class:"mt-2 lowerform"},T={class:"input-group mb-3"},j=d((()=>(0,n._)("div",{class:"input-group-prepend"},[(0,n._)("span",{class:"input-group-text",id:"basic-addon2"},"Nachname")],-1))),x=["disabled"],B={key:0,class:"alert alert-success",role:"alert"},U={key:1,class:"alert alert-danger",role:"alert"};function $(e,i,a,s,o,d){const h=(0,n.up)("vue-avatar-editor");return(0,n.wg)(),(0,n.iD)("div",l,[o.isCameraOpen||o.isFileSelected||o.isImageLoaded?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",c,m)),o.isFileSelected||o.isImageLoaded?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("button",{class:(0,r.C_)(["btn btn-primary w-100",{"is-primary":!o.isCameraOpen,"is-danger":o.isCameraOpen}]),onClick:i[0]||(i[0]=(...e)=>d.toggleCamera&&d.toggleCamera(...e))},[o.isCameraOpen?((0,n.wg)(),(0,n.iD)("span",g,"Kamera schlieÃŸen")):((0,n.wg)(),(0,n.iD)("span",p,"Kamera Ã¶ffnen"))],2),(0,n._)("input",{id:"fileUpload",type:"file",onChange:i[1]||(i[1]=(...e)=>d.loadFile&&d.loadFile(...e)),accept:"image/jpeg, image/png",hidden:""},null,32),(0,n.wy)((0,n._)("button",{class:"btn mt-2 btn-primary w-100",onClick:i[2]||(i[2]=e=>d.chooseFile())}," Vorhandenes Bild hochladen ",512),[[t.F8,!o.isCameraOpen]])])),!o.isCameraOpen&&o.isImageFinished||o.isImageLoaded?((0,n.wg)(),(0,n.iD)("div",f,[(0,n._)("button",{class:"btn mt-2 btn-primary w-100",onClick:i[3]||(i[3]=e=>d.restart())}," ZurÃ¼ck ")])):(0,n.kq)("",!0),o.isCameraOpen?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",b,[(0,n.wy)((0,n.Wm)(h,{width:300,height:300,ref:"vueavatar",finishText:"Bild zuschneiden",onSelectFile:i[4]||(i[4]=e=>d.onSelectFile(e)),onFinished:i[5]||(i[5]=e=>d.imageFinshed(e)),image:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/800px-Image_created_with_a_mobile_phone.png"},null,512),[[t.F8,!o.isImageFinished&&o.isImageLoaded]]),(0,n.wy)((0,n._)("canvas",v,null,512),[[t.F8,o.isImageFinished]])])),o.isCameraOpen?(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{key:4,class:(0,r.C_)(["camera-box",{flash:o.isShotPhoto}])},[(0,n._)("div",{class:(0,r.C_)(["camera-shutter",{flash:o.isShotPhoto}])},null,2),(0,n._)("div",k,[(0,n.wy)((0,n._)("video",y,null,512),[[t.F8,!o.isPhotoTaken]]),(0,n.wy)((0,n._)("canvas",w,null,512),[[t.F8,o.isPhotoTaken]])])],2)),[[t.F8,!o.isLoading]]):(0,n.kq)("",!0),(0,n.wy)((0,n._)("div",_,null,512),[[t.F8,o.isCameraOpen&&o.isLoading]]),o.isCameraOpen&&!o.isLoading?((0,n.wg)(),(0,n.iD)("div",C,[(0,n._)("button",{type:"button",class:"btn btn-primary",onClick:i[6]||(i[6]=(...e)=>d.takePhoto&&d.takePhoto(...e))},F)])):(0,n.kq)("",!0),o.isCameraOpen&&!o.isLoading||o.isImageFinished?((0,n.wg)(),(0,n.iD)("div",S,[(0,n._)("div",D,[(0,n._)("div",P,[I,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",placeholder:"Vorname","aria-label":"Vorname","aria-describedby":"basic-addon1","onUpdate:modelValue":i[7]||(i[7]=e=>o.nameA=e)},null,512),[[t.nr,o.nameA]])])]),(0,n._)("div",L,[(0,n._)("div",T,[j,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",placeholder:"Nachname","aria-label":"Nachname","aria-describedby":"basic-addon2","onUpdate:modelValue":i[8]||(i[8]=e=>o.nameB=e)},null,512),[[t.nr,o.nameB]])])]),(0,n._)("button",{type:"submit",class:"btn btn-primary lowerform mb-3 w-100",onClick:i[9]||(i[9]=(...e)=>d.sendData&&d.sendData(...e)),disabled:o.isSendDisabled||!(o.isPhotoTaken&&o.isCameraOpen)&&!o.isImageFinished||0==o.nameA.length||0==o.nameB.length}," Abschicken ",8,x),o.isOk?((0,n.wg)(),(0,n.iD)("div",B," Daten erfolgreich hochgeladen. ")):(0,n.kq)("",!0),o.isError?((0,n.wg)(),(0,n.iD)("div",U," Probleme beim Upload. Bitte nochmal probieren. ")):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])}var A=a(5959),E={components:{VueAvatarEditor:A.Yc},data(){return{isCameraOpen:!1,isPhotoTaken:!1,isShotPhoto:!1,isLoading:!1,isFileSelected:!1,isImageLoaded:!1,isImageFinished:!1,isOk:!1,isError:!1,isSendDisabled:!1,nameA:"",nameB:"",link:"#",rotation:0,scale:1,imageBlob:void 0}},methods:{chooseFile(){document.getElementById("fileUpload").click()},restart(){this.isCameraOpen=!1,this.isPhotoTaken=!1,this.isShotPhoto=!1,this.isLoading=!1,this.isFileSelected=!1,this.isImageLoaded=!1,this.isImageFinished=!1},loadFile(e){const i=e.target.files[0],a=new FileReader;a.readAsDataURL(i),a.onload=e=>{this.$refs.vueavatar.$el.classList.add("p-2");const i=this.$refs.vueavatar.$el.children,a=i[i.length-1];a.classList.add("btn","btn-primary","w-100","mb-1"),console.log(a),this.isImageLoaded=!0,this.$refs.vueavatar.$refs.vueavatar.loadImage(e.target.result)}},imageFinshed(e){this.isImageFinished=!0;let i=this.$refs.canvas2;i.getContext("2d").drawImage(e,0,0),this.isSendDisabled=!1,this.nameA="",this.nameB="",this.isOk=!1,this.isError=!1},onSelectFile(){this.isFileSelected=!0},toggleCamera(){this.isCameraOpen?(this.isCameraOpen=!1,this.isPhotoTaken=!1,this.isShotPhoto=!1,this.stopCameraStream()):(this.isCameraOpen=!0,this.createCameraElement())},createCameraElement(){this.isLoading=!0;const e=window.constraints={audio:!1,video:{width:300,height:300,facingMode:"user"}};navigator.mediaDevices.getUserMedia(e).then((e=>{this.isLoading=!1,this.$refs.camera.srcObject=e})).catch((e=>{this.isLoading=!1,alert("May the browser didn't support or there is some errors."),console.log(e)}))},stopCameraStream(){let e=this.$refs.camera.srcObject.getTracks();e.forEach((e=>{e.stop()}))},takePhoto(){if(!this.isPhotoTaken){this.isShotPhoto=!0;const e=50;setTimeout((()=>{this.isShotPhoto=!1}),e)}this.isPhotoTaken=!this.isPhotoTaken;let e=this.$refs.canvas,i=this.$refs.camera;e.width=i.videoWidth,e.height=i.videoHeight,e.getContext("2d").drawImage(i,0,0),this.isSendDisabled=!1,this.nameA="",this.nameB="",this.isOk=!1,this.isError=!1},async internalSendData(e){const i=await fetch("https://j-nuts-cal.herokuapp.com/memory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return i.ok},sendData(){if(this.isSendDisabled=!0,0==this.nameA.length||0==this.nameB.length)return this.isOk=!1,void(this.isError=!0);let e={name:this.nameA+" "+this.nameB};this.isImageFinished?e["img"]=this.$refs.canvas2.toDataURL():e["img"]=this.$refs.canvas.toDataURL(),this.internalSendData(e).then((e=>{this.isOk=e,this.isError=!e}))}}},q=a(89);const M=(0,q.Z)(E,[["render",$],["__scopeId","data-v-57450ac4"]]);var V=M,N={name:"App",components:{SelfieCamera:V}};const R=(0,q.Z)(N,[["render",o]]);var z=R;a(2166);(0,t.ri)(z).mount("#app")}},i={};function a(t){var n=i[t];if(void 0!==n)return n.exports;var s=i[t]={exports:{}};return e[t](s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(i,t,n,s){if(!t){var o=1/0;for(c=0;c<e.length;c++){t=e[c][0],n=e[c][1],s=e[c][2];for(var r=!0,d=0;d<t.length;d++)(!1&s||o>=s)&&Object.keys(a.O).every((function(e){return a.O[e](t[d])}))?t.splice(d--,1):(r=!1,s<o&&(o=s));if(r){e.splice(c--,1);var l=n();void 0!==l&&(i=l)}}return i}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[t,n,s]}}(),function(){a.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(i,{a:i}),i}}(),function(){a.d=function(e,i){for(var t in i)a.o(i,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:i[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(i){return 0===e[i]};var i=function(i,t){var n,s,o=t[0],r=t[1],d=t[2],l=0;if(o.some((function(i){return 0!==e[i]}))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(d)var c=d(a)}for(i&&i(t);l<o.length;l++)s=o[l],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},t=self["webpackChunkj_nuts_memory_join"]=self["webpackChunkj_nuts_memory_join"]||[];t.forEach(i.bind(null,0)),t.push=i.bind(null,t.push.bind(t))}();var t=a.O(void 0,[998],(function(){return a(2879)}));t=a.O(t)})();
//# sourceMappingURL=app.ecea79ed.js.map