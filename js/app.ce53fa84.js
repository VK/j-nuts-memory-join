(function(){"use strict";var e={7707:function(e,i,a){var t=a(9242),n=a(3396);const s={class:"w-100 p-1"};function r(e,i,a,t,r,o){const d=(0,n.up)("SelfieCamera");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(d)])}var o=a(7139);const d=e=>((0,n.dD)("data-v-14a99ca6"),e=e(),(0,n.Cn)(),e),l={class:"card p-1",style:{"max-width":"500px"}},c={key:0,class:"p-2"},h=d((()=>(0,n._)("p",{style:{"text-align":"left"}},[(0,n.Uk)(" Um beim JðŸŒ° Memory-Spiel mitbachen zu kÃ¶nnen brauchen wir ein Bild und deinen Namen."),(0,n._)("br"),(0,n._)("br"),(0,n.Uk)(" Dazu musst du nur die Kamera deines Handys aktivieren, oder ein Bild hochladen. Deinen Vor- und Nachnamen eingeben und abschicken."),(0,n._)("br"),(0,n.Uk)(" Dann ist dein Bild auch im nÃ¤chsten Memory mit dabei. ")],-1))),m=[h],u={key:1,class:"camera-button mt-2 mb-2 p-2"},p={key:0},g={key:1},f={key:2},b={id:"imageFinished",ref:"canvas2",width:300,height:300},v={id:"videobox"},y={ref:"camera",width:300,height:300,autoplay:""},k={id:"photoTaken",ref:"canvas",width:300,height:300},w={class:"camera-loading"},_={key:4,class:"camera-shoot mt-2 mb-2"},O=d((()=>(0,n._)("img",{src:"https://img.icons8.com/material-outlined/40/ffffff/camera--v2.png"},null,-1))),C=[O],S={key:5,class:"camera-upload"},D={class:"mt-2 lowerform"},F={class:"input-group mb-3"},P=d((()=>(0,n._)("div",{class:"input-group-prepend"},[(0,n._)("span",{class:"input-group-text",id:"basic-addon1"},"Vorname")],-1))),T={class:"mt-2 lowerform"},j={class:"input-group mb-3"},x=d((()=>(0,n._)("div",{class:"input-group-prepend"},[(0,n._)("span",{class:"input-group-text",id:"basic-addon2"},"Nachname")],-1))),B=["disabled"],A={key:0,class:"alert alert-success",role:"alert"},E={key:1,class:"alert alert-danger",role:"alert"};function I(e,i,a,s,r,d){const h=(0,n.up)("vue-avatar-editor");return(0,n.wg)(),(0,n.iD)("div",l,[r.isCameraOpen||r.isFileSelected?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",c,m)),r.isFileSelected?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("button",{class:(0,o.C_)(["btn btn-primary w-100",{"is-primary":!r.isCameraOpen,"is-danger":r.isCameraOpen}]),onClick:i[0]||(i[0]=(...e)=>d.toggleCamera&&d.toggleCamera(...e))},[r.isCameraOpen?((0,n.wg)(),(0,n.iD)("span",g,"Kamera schlieÃŸen")):((0,n.wg)(),(0,n.iD)("span",p,"Kamera Ã¶ffnen"))],2)])),r.isCameraOpen?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",f,[(0,n.wy)((0,n.Wm)(h,{width:300,height:300,ref:"vueavatar",finishText:"Bild verwenden",onSelectFile:i[1]||(i[1]=e=>d.onSelectFile(e)),onFinished:i[2]||(i[2]=e=>d.imageFinshed(e))},null,512),[[t.F8,!r.isImageFinished]]),(0,n.wy)((0,n._)("canvas",b,null,512),[[t.F8,r.isImageFinished]])])),r.isCameraOpen?(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{key:3,class:(0,o.C_)(["camera-box",{flash:r.isShotPhoto}])},[(0,n._)("div",{class:(0,o.C_)(["camera-shutter",{flash:r.isShotPhoto}])},null,2),(0,n._)("div",v,[(0,n.wy)((0,n._)("video",y,null,512),[[t.F8,!r.isPhotoTaken]]),(0,n.wy)((0,n._)("canvas",k,null,512),[[t.F8,r.isPhotoTaken]])])],2)),[[t.F8,!r.isLoading]]):(0,n.kq)("",!0),(0,n.wy)((0,n._)("div",w,null,512),[[t.F8,r.isCameraOpen&&r.isLoading]]),r.isCameraOpen&&!r.isLoading?((0,n.wg)(),(0,n.iD)("div",_,[(0,n._)("button",{type:"button",class:"btn btn-primary",onClick:i[3]||(i[3]=(...e)=>d.takePhoto&&d.takePhoto(...e))},C)])):(0,n.kq)("",!0),r.isCameraOpen&&!r.isLoading||r.isImageFinished?((0,n.wg)(),(0,n.iD)("div",S,[(0,n._)("div",D,[(0,n._)("div",F,[P,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",placeholder:"Vorname","aria-label":"Vorname","aria-describedby":"basic-addon1","onUpdate:modelValue":i[4]||(i[4]=e=>r.nameA=e)},null,512),[[t.nr,r.nameA]])])]),(0,n._)("div",T,[(0,n._)("div",j,[x,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",placeholder:"Nachname","aria-label":"Nachname","aria-describedby":"basic-addon2","onUpdate:modelValue":i[5]||(i[5]=e=>r.nameB=e)},null,512),[[t.nr,r.nameB]])])]),(0,n._)("button",{type:"submit",class:"btn btn-primary lowerform mb-3",onClick:i[6]||(i[6]=(...e)=>d.sendData&&d.sendData(...e)),disabled:r.isSendDisabled||!(r.isPhotoTaken&&r.isCameraOpen)&&!r.isImageFinished||0==r.nameA.length||0==r.nameB.length}," Abschicken ",8,B),r.isOk?((0,n.wg)(),(0,n.iD)("div",A," Daten erfolgreich hochgeladen. ")):(0,n.kq)("",!0),r.isError?((0,n.wg)(),(0,n.iD)("div",E," Probleme beim Upload. Bitte nochmal probieren. ")):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])}var L=a(5959),U={components:{VueAvatarEditor:L.Yc},data(){return{isCameraOpen:!1,isPhotoTaken:!1,isShotPhoto:!1,isLoading:!1,isFileSelected:!1,isImageFinished:!1,isOk:!1,isError:!1,isSendDisabled:!1,nameA:"",nameB:"",link:"#",rotation:0,scale:1,imageBlob:void 0}},methods:{imageFinshed(e){this.isImageFinished=!0;let i=this.$refs.canvas2;i.getContext("2d").drawImage(e,0,0),this.isSendDisabled=!1,this.nameA="",this.nameB="",this.isOk=!1,this.isError=!1},onSelectFile(){this.isFileSelected=!0},toggleCamera(){this.isCameraOpen?(this.isCameraOpen=!1,this.isPhotoTaken=!1,this.isShotPhoto=!1,this.stopCameraStream()):(this.isCameraOpen=!0,this.createCameraElement())},createCameraElement(){this.isLoading=!0;const e=window.constraints={audio:!1,video:{width:300,height:300,facingMode:"user"}};navigator.mediaDevices.getUserMedia(e).then((e=>{this.isLoading=!1,this.$refs.camera.srcObject=e})).catch((e=>{this.isLoading=!1,alert("May the browser didn't support or there is some errors."),console.log(e)}))},stopCameraStream(){let e=this.$refs.camera.srcObject.getTracks();e.forEach((e=>{e.stop()}))},takePhoto(){if(!this.isPhotoTaken){this.isShotPhoto=!0;const e=50;setTimeout((()=>{this.isShotPhoto=!1}),e)}this.isPhotoTaken=!this.isPhotoTaken;let e=this.$refs.canvas,i=this.$refs.camera;e.width=i.videoWidth,e.height=i.videoHeight,e.getContext("2d").drawImage(i,0,0),this.isSendDisabled=!1,this.nameA="",this.nameB="",this.isOk=!1,this.isError=!1},async internalSendData(e){const i=await fetch("https://j-nuts-cal.herokuapp.com/memory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return i.ok},sendData(){if(this.isSendDisabled=!0,0==this.nameA.length||0==this.nameB.length)return this.isOk=!1,void(this.isError=!0);let e={name:this.nameA+" "+this.nameB};this.isImageFinished?e["img"]=this.$refs.canvas2.toDataURL():e["img"]=this.$refs.canvas.toDataURL(),this.internalSendData(e).then((e=>{this.isOk=e,this.isError=!e}))}}},q=a(89);const M=(0,q.Z)(U,[["render",I],["__scopeId","data-v-14a99ca6"]]);var V=M,$={name:"App",components:{SelfieCamera:V}};const N=(0,q.Z)($,[["render",r]]);var K=N;a(2166);(0,t.ri)(K).mount("#app")}},i={};function a(t){var n=i[t];if(void 0!==n)return n.exports;var s=i[t]={exports:{}};return e[t](s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(i,t,n,s){if(!t){var r=1/0;for(c=0;c<e.length;c++){t=e[c][0],n=e[c][1],s=e[c][2];for(var o=!0,d=0;d<t.length;d++)(!1&s||r>=s)&&Object.keys(a.O).every((function(e){return a.O[e](t[d])}))?t.splice(d--,1):(o=!1,s<r&&(r=s));if(o){e.splice(c--,1);var l=n();void 0!==l&&(i=l)}}return i}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[t,n,s]}}(),function(){a.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(i,{a:i}),i}}(),function(){a.d=function(e,i){for(var t in i)a.o(i,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:i[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(i){return 0===e[i]};var i=function(i,t){var n,s,r=t[0],o=t[1],d=t[2],l=0;if(r.some((function(i){return 0!==e[i]}))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(d)var c=d(a)}for(i&&i(t);l<r.length;l++)s=r[l],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},t=self["webpackChunkj_nuts_memory_join"]=self["webpackChunkj_nuts_memory_join"]||[];t.forEach(i.bind(null,0)),t.push=i.bind(null,t.push.bind(t))}();var t=a.O(void 0,[998],(function(){return a(7707)}));t=a.O(t)})();
//# sourceMappingURL=app.ce53fa84.js.map